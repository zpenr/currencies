# üí± Currency Exchange API

REST API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞–ª—é—Ç–∞–º–∏ –∏ –æ–±–º–µ–Ω–Ω—ã–º–∏ –∫—É—Ä—Å–∞–º–∏.

üåê **–ë–∞–∑–æ–≤—ã–π URL**: `http://91.200.84.196:8000`

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:
```
X-API-KEY: <–≤–∞—à_–∫–ª—é—á>
```

---

## üìö Endpoints

### üíµ –í–∞–ª—é—Ç—ã

#### `GET /currencies`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∞–ª—é—Ç.

**–û—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": 0,
    "name": "United States dollar",
    "code": "USD",
    "sign": "$"
  }
]
```

#### `GET /currency/{code}`
–ü–æ–ª—É—á–∏—Ç—å –≤–∞–ª—é—Ç—É –ø–æ 3-–±—É–∫–≤–µ–Ω–Ω–æ–º—É –∫–æ–¥—É.

**–ü—Ä–∏–º–µ—Ä:** `GET /currency/USD`

**–û—Ç–≤–µ—Ç (200):**
```json
{
  "id": 0,
  "name": "United States dollar",
  "code": "USD",
  "sign": "$"
}
```

**–û—à–∏–±–∫–∏:**
- `404` ‚Äî –í–∞–ª—é—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `400` ‚Äî –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–¥–∞

#### `POST /currencies`
–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –≤–∞–ª—é—Ç—É.

**Content-Type:** `application/x-www-form-urlencoded`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------------|----------|
| `name` | ‚úÖ | –ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã |
| `code` | ‚úÖ | 3-–±—É–∫–≤–µ–Ω–Ω—ã–π –∫–æ–¥ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π) |
| `sign` | ‚úÖ | –°–∏–º–≤–æ–ª –≤–∞–ª—é—Ç—ã |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST http://91.200.84.196:8000/currencies \
  -H "X-API-KEY: –≤–∞—à_–∫–ª—é—á" \
  -d "name=Russian Ruble&code=RUB&sign=‚ÇΩ"
```

**–û—Ç–≤–µ—Ç (201):** –û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã

**–û—à–∏–±–∫–∏:**
- `400` ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω—É–∂–Ω–æ–µ –ø–æ–ª–µ —Ñ–æ—Ä–º—ã
- `409` ‚Äî –í–∞–ª—é—Ç–∞ —Å —Ç–∞–∫–∏–º –∫–æ–¥–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

#### `DELETE /currency/{code}`
–£–¥–∞–ª–∏—Ç—å –≤–∞–ª—é—Ç—É –ø–æ –∫–æ–¥—É.

**–ü—Ä–∏–º–µ—Ä:** `DELETE /currency/USD`

**–û—Ç–≤–µ—Ç (200):**
```json
{ "status": "succes" }
```

---

### üîÑ –û–±–º–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã

#### `GET /exchangeRates`
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –æ–±–º–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã.

**–û—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": 1,
    "baseCurrency": { "id": 0, "name": "United States dollar", "code": "USD", "sign": "$" },
    "targetCurrency": { "id": 1, "name": "Euro", "code": "EUR", "sign": "‚Ç¨" },
    "rate": 0.954201
  }
]
```

#### `GET /exchangeRate/{baseCode}{targetCode}`
–ü–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å –¥–ª—è –ø–∞—Ä—ã –≤–∞–ª—é—Ç (6 –±—É–∫–≤: 3 + 3).

**–ü—Ä–∏–º–µ—Ä:** `GET /exchangeRate/USDEUR`

**–û—Ç–≤–µ—Ç (200):**
```json
{
  "id": 1,
  "baseCurrency": { "id": 0, "name": "United States dollar", "code": "USD", "sign": "$" },
  "targetCurrency": { "id": 1, "name": "Euro", "code": "EUR", "sign": "‚Ç¨" },
  "rate": 0.954201
}
```

**–û—à–∏–±–∫–∏:**
- `404` ‚Äî –û–±–º–µ–Ω–Ω—ã–π –∫—É—Ä—Å –¥–ª—è –ø–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω
- `400` ‚Äî –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∞–¥—Ä–µ—Å–æ–≤

#### `POST /exchangeRates`
–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–±–º–µ–Ω–Ω—ã–π –∫—É—Ä—Å.

**Content-Type:** `application/x-www-form-urlencoded`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------------|----------|
| `baseCurrencyCode` | ‚úÖ | –ö–æ–¥ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã |
| `targetCurrencyCode` | ‚úÖ | –ö–æ–¥ —Ü–µ–ª–µ–≤–æ–π –≤–∞–ª—é—Ç—ã |
| `rate` | ‚úÖ | –ö—É—Ä—Å –æ–±–º–µ–Ω–∞ (–¥–µ—Å—è—Ç–∏—á–Ω–æ–µ —á–∏—Å–ª–æ) |

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X POST http://91.200.84.196:8000/exchangeRates \
  -H "X-API-KEY: –≤–∞—à_–∫–ª—é—á" \
  -d "baseCurrencyCode=USD&targetCurrencyCode=RUB&rate=92.50"
```

**–û—Ç–≤–µ—Ç (201):** –û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞

**–û—à–∏–±–∫–∏:**
- `400` ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω—É–∂–Ω–æ–µ –ø–æ–ª–µ —Ñ–æ—Ä–º—ã
- `404` ‚Äî –û–¥–Ω–∞ –∏–∑ –≤–∞–ª—é—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î
- `409` ‚Äî –í–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

#### `PATCH /exchangeRate/{baseCode}{targetCode}`
–û–±–Ω–æ–≤–∏—Ç—å –∫—É—Ä—Å –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–∞—Ä—ã.

**Content-Type:** `application/x-www-form-urlencoded`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------------|----------|
| `rate` | ‚úÖ | –ù–æ–≤—ã–π –∫—É—Ä—Å –æ–±–º–µ–Ω–∞ |

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X PATCH http://91.200.84.196:8000/exchangeRate/USDEUR \
  -H "X-API-KEY: –≤–∞—à_–∫–ª—é—á" \
  -d "rate=0.960000"
```

**–û—Ç–≤–µ—Ç (200):** –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –∫—É—Ä—Å–∞

**–û—à–∏–±–∫–∏:**
- `400` ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ `rate`
- `404` ‚Äî –í–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

---

### üí± –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è

#### `GET /exchange?from={code}&to={code}&amount={value}`
–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É–º–º—É –∏–∑ –æ–¥–Ω–æ–π –≤–∞–ª—é—Ç—ã –≤ –¥—Ä—É–≥—É—é.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------------|----------|
| `from` | ‚úÖ | –ö–æ–¥ –∏—Å—Ö–æ–¥–Ω–æ–π –≤–∞–ª—é—Ç—ã |
| `to` | ‚úÖ | –ö–æ–¥ —Ü–µ–ª–µ–≤–æ–π –≤–∞–ª—é—Ç—ã |
| `amount` | ‚úÖ | –°—É–º–º–∞ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ |

**–ü—Ä–∏–º–µ—Ä:** `GET /exchange?from=USD&to=EUR&amount=100`

**–û—Ç–≤–µ—Ç (200):**
```json
{
  "baseCurrency": { "id": 0, "name": "United States dollar", "code": "USD", "sign": "$" },
  "targetCurrency": { "id": 1, "name": "Euro", "code": "EUR", "sign": "‚Ç¨" },
  "rate": 0.954201,
  "amount": 100.0,
  "convertedAmount": 95.42
}
```

**–õ–æ–≥–∏–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:**
1. –ü—Ä—è–º–æ–π –∫—É—Ä—Å `from ‚Üí to`
2. –û–±—Ä–∞—Ç–Ω—ã–π –∫—É—Ä—Å `to ‚Üí from` (–∏–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è)
3. –ö—Ä–æ—Å—Å-–∫—É—Ä—Å —á–µ—Ä–µ–∑ USD, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –æ–±–∞ –∫—É—Ä—Å–∞ –∫ –¥–æ–ª–ª–∞—Ä—É
4. `null`, –µ—Å–ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞

---

## ‚ö†Ô∏è –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `200` | –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å (GET, PATCH, DELETE) |
| `201` | –†–µ—Å—É—Ä—Å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω (POST) |
| `400` | BadRequest ‚Äî –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ |
| `401` | Invalid or missing API Key |
| `404` | NotFound ‚Äî —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω |
| `409` | Conflict ‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è (–¥—É–±–ª–∏–∫–∞—Ç) |
| `500` | Server Error ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- **–¢–∏–ø:** SQLite (`currencies.db`)
- **–¢–∞–±–ª–∏—Ü—ã:**
  - `currencies` ‚Äî id, name, code (UNIQUE), sign
  - `ExchangeRates` ‚Äî ID, BaseCurrencyId, TargetCurrencyId, Rate (UNIQUE –ø–∞—Ä–∞)

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ –≤–∞–ª—é—Ç—ã (USD, EUR, JPY, GBP, CNY, AUD, CAD, CHF, HKD, SGD) –∏ –Ω–∞—á–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã.

---

## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python main.py
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `0.0.0.0:8000`.

---

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ cURL

```bash
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≤–∞–ª—é—Ç—ã
curl http://91.200.84.196:8000/currencies -H "X-API-KEY: –≤–∞—à_–∫–ª—é—á"

# –ü–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å USD ‚Üí EUR
curl http://91.200.84.196:8000/exchangeRate/USDEUR -H "X-API-KEY: –≤–∞—à_–∫–ª—é—á"

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å 100 USD –≤ EUR
curl "http://91.200.84.196:8000/exchange?from=USD&to=EUR&amount=100" -H "X-API-KEY: –≤–∞—à_–∫–ª—é—á"

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –≤–∞–ª—é—Ç—É
curl -X POST http://91.200.84.196:8000/currencies \
  -H "X-API-KEY: –≤–∞—à_–∫–ª—é—á" \
  -d "name=Russian Ruble&code=RUB&sign=‚ÇΩ"

# –û–±–Ω–æ–≤–∏—Ç—å –∫—É—Ä—Å
curl -X PATCH http://91.200.84.196:8000/exchangeRate/USDEUR \
  -H "X-API-KEY: –≤–∞—à_–∫–ª—é—á" \
  -d "rate=0.960000"
```

---

> üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—Å–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–¥—ã –≤–∞–ª—é—Ç —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –Ω–∞ –≤—Ö–æ–¥–µ, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ.

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –Ω–∞ Python 3 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `http.server` –∏ `sqlite3`.